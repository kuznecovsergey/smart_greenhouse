# Описание маршрутов

## /
Маршрут: **/**

Тип запроса: **GET**

Возвращает: страница **index.html**

## /getlast
Маршрут: **/getlast**

Тип запроса: **GET**

Возвращает: объект **JSON**

### Описание запроса: 
Запрос на  последние записанные в базу данных показания измерений, управляющих воздействий и режима работы системы.

### Описание ответа: 
Поле **"mode"** может принимать одно из 2х значений: "manaul" или "auto".

Поле **"date"** содержит время в мс. 

### Пример 
Cформированная посылка:

```JSON
{
	"mode": "manual",

	"tmp" : {
		"date":  "1552908298",
		"value": "25.1",
	},

	"humidity": {
		"date":  "1552908303",
		"value": "20",
	},

	"valve" : {
		"date":  "1552908303",
		"value": "0",
	},

	"window": {
		"date":  "1552908298",
		"value": "1",
	}
	
}
```

## /set/[key]/[value]
Маршрут: **/set/[key]/[value]**

Тип запроса: **GET**

Возвращает: объект **JSON**

### Описание запроса: 
Запос на переключение режима работы системы (ручной / автоматический), включение и выключение исполнительных устройств.

Параметр запроса [key] может принимать одно из 3х значений: **mode**, **valve**, **window**.

Параметр запроса [value] может принимать одно из 2х значений: **1** или **0**.

Запрос **/set/mode/1** означает перевод в автоматический режим

### Описание ответа: 
Ответ представляет из себя json-объект,содержащее одно поле **error**, которое может принимать одно из 2х значений: **0** или **1**.
Характеризует успешность выполения операции.

### Пример 
Запрос:
```
/set/mode/1
/set/valve/0
/set/window/1
```

Cформированная посылка:
```JSON
{
	"error": "0"
}
```
